<div class="menu-root">
  <!-- Barra superior -->
  <header class="menu-header">
    <img class="menu-logo" src="https://cdn-icons-png.flaticon.com/512/3064/3064197.png" alt="Logo" />
    <span class="menu-title" (click)="seleccionar('productos')">ToyManager</span>
    <div class="menu-user">
      <span class="menu-username">{{ username }}</span>
      <img class="menu-avatar" src="https://ui-avatars.com/api/?name={{username}}" alt="avatar" />
    </div>
  </header>

  <!-- Menú lateral -->
  <nav class="menu-sidebar">
  <button class="menu-sidebar-btn" [class.active]="tipoSeleccionado==='productos'" (click)="seleccionar('productos')">Productos</button>
  <button class="menu-sidebar-btn" [class.active]="tipoSeleccionado==='categorias'" (click)="seleccionar('categorias')">Categorías</button>
  <button class="menu-sidebar-btn" [class.active]="tipoSeleccionado==='proveedores'" (click)="seleccionar('proveedores')">Proveedores</button>
  <button *ngIf="esAdmin" class="menu-sidebar-btn" [class.active]="tipoSeleccionado==='usuarios'" (click)="seleccionar('usuarios')">Usuarios</button>
  <button *ngIf="esAdmin" class="menu-sidebar-btn" [class.active]="tipoSeleccionado==='productos-usuario'" (click)="seleccionar('productos-usuario')">Productos Usuario</button>
</nav>

  <!-- Contenido principal -->
  <main class="menu-content">
    <app-menu-section
      [tipo]="tipoSeleccionado"
      (productoDobleClick)="abrirModalEdicion($event)"
      (crearProducto)="abrirModalCrear()">
    </app-menu-section>
  </main>

  <!-- Modal dinámico según sección -->
<app-modal-producto
  *ngIf="modalAbierto && tipoSeleccionado === 'productos'"
  [producto]="productoEditar"
  [modoCrear]="modoCrear"
  (close)="cerrarModal()">
</app-modal-producto>

<app-modal-categoria
  *ngIf="modalAbierto && tipoSeleccionado === 'categorias'"
  [categoria]="productoEditar"
  [modoCrear]="modoCrear"
  (close)="cerrarModal()">
</app-modal-categoria>

<app-modal-proveedor
  *ngIf="modalAbierto && tipoSeleccionado === 'proveedores'"
  [proveedor]="productoEditar"
  [modoCrear]="modoCrear"
  (close)="cerrarModal()">
</app-modal-proveedor>

<app-modal-usuario
  *ngIf="modalAbierto && tipoSeleccionado === 'usuarios'"
  [usuario]="productoEditar"
  (close)="cerrarModal()">
</app-modal-usuario>

<app-modal-productos-usuario
  *ngIf="modalAbierto && tipoSeleccionado === 'productos-usuario'"
  [productoUsuario]="productoEditar"
  [modoCrear]="modoCrear"
  (close)="cerrarModal()">
</app-modal-productos-usuario>

</div>